
> tei-dialogue-editor@0.1.0 test
> jest

PASS tests/unit/sample-loader.test.ts
  ● Console

    console.error
      Error loading sample invalid-sample: Error: Failed to load sample: invalid-sample (Status: 404)
          at loadSample (/home/bor/Projects/tei-xml/lib/samples/sampleLoader.ts:31:13)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/sample-loader.test.ts:47:7)

      41 |     return content;
      42 |   } catch (error) {
    > 43 |     console.error(`Error loading sample ${sampleId}:`, error);
         |             ^
      44 |     throw error;
      45 |   }
      46 | }

      at error (lib/samples/sampleLoader.ts:43:13)
      at Object.<anonymous> (tests/unit/sample-loader.test.ts:47:7)

    console.error
      Error loading sample invalid-tei: Error: Invalid TEI document: invalid-tei
          at loadSample (/home/bor/Projects/tei-xml/lib/samples/sampleLoader.ts:38:13)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/sample-loader.test.ts:56:7)

      41 |     return content;
      42 |   } catch (error) {
    > 43 |     console.error(`Error loading sample ${sampleId}:`, error);
         |             ^
      44 |     throw error;
      45 |   }
      46 | }

      at error (lib/samples/sampleLoader.ts:43:13)
      at Object.<anonymous> (tests/unit/sample-loader.test.ts:56:7)

PASS tests/unit/TEIDocument-queries.test.ts
PASS tests/unit/quick-search.test.ts
PASS tests/unit/TEIDocument.test.ts
PASS tests/unit/TEIDocument-serialization.test.ts
PASS tests/unit/pattern-learning-integration.test.ts
PASS tests/unit/selection.test.ts
PASS __tests__/setup.test.ts
PASS tests/unit/logger.test.ts
PASS tests/unit/accuracy-metrics.test.ts
PASS tests/unit/character-network.test.tsx
PASS __tests__/shadcn-components.test.tsx
PASS tests/unit/pattern-db.test.ts
PASS tests/unit/teiTagging.test.ts
  ● Console

    console.warn
      Text "not found" not found in paragraph

      58 |     // If text not found, return original
      59 |     if (index === -1) {
    > 60 |       console.warn(`Text "${selectedText}" not found in paragraph`);
         |               ^
      61 |       return para;
      62 |     }
      63 |

      at warn (lib/utils/teiTagging.ts:60:15)
      at Object.<anonymous> (tests/unit/teiTagging.test.ts:88:41)

PASS __tests__/directory-structure.test.ts
PASS tests/unit/ai-providers.test.ts
PASS tests/unit/xml-parser.test.ts
PASS tests/unit/ax-provider.test.ts
  ● Console

    console.warn
      [2026-02-01T11:59:24.689Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-provider.test.ts:29:34)

PASS tests/unit/keyboard-shortcuts.test.ts
PASS tests/unit/ax-speaker-attribution.test.ts
  ● Console

    console.warn
      [2026-02-01T11:59:24.927Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:28:35)

    console.warn
      [2026-02-01T11:59:24.950Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:41:35)

    console.warn
      [2026-02-01T11:59:24.954Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:56:35)

    console.warn
      [2026-02-01T11:59:24.955Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:78:35)

    console.warn
      [2026-02-01T11:59:24.958Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:96:36)

    console.warn
      [2026-02-01T11:59:24.958Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:97:36)

    console.warn
      [2026-02-01T11:59:24.959Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:108:35)

    console.warn
      [2026-02-01T11:59:24.960Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:124:35)

    console.warn
      [2026-02-01T11:59:24.961Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-speaker-attribution.test.ts:142:35)

PASS __tests__/test-components-page.test.tsx
PASS tests/unit/rendered-view.test.tsx
PASS tests/unit/bulk-operations.test.tsx
  ● Console

    console.error
      An update to BulkOperationsPanel inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      40 |     try {
      41 |       await onTagAll(speakerId);
    > 42 |       setSpeakerId('');
         |       ^
      43 |     } finally {
      44 |       setOperationInProgress(null);
      45 |     }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSpeakerId (components/editor/BulkOperationsPanel.tsx:42:7)

    console.error
      An update to BulkOperationsPanel inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      42 |       setSpeakerId('');
      43 |     } finally {
    > 44 |       setOperationInProgress(null);
         |       ^
      45 |     }
      46 |   };
      47 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setOperationInProgress (components/editor/BulkOperationsPanel.tsx:44:7)

PASS tests/unit/DocumentContext.test.tsx
PASS tests/unit/ax-integration.test.ts
  ● Console

    console.warn
      [2026-02-01T11:59:24.988Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-integration.test.ts:27:36)

    console.warn
      [2026-02-01T11:59:25.064Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-integration.test.ts:53:36)

    console.warn
      [2026-02-01T11:59:25.072Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-integration.test.ts:68:36)

    console.warn
      [2026-02-01T11:59:25.077Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-integration.test.ts:92:40)

    console.warn
      [2026-02-01T11:59:25.080Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-integration.test.ts:110:40)

    console.warn
      [2026-02-01T11:59:25.082Z] [WARN ] Ax attribution failed, using heuristic fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-integration.test.ts:121:40)

    console.warn
      [2026-02-01T11:59:25.105Z] [WARN ] Ax detection failed, using NLP fallback { module: 'AxProvider', provider: 'openai', error: 'Ax API error' }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-integration.test.ts:211:36)

    console.warn
      [2026-02-01T11:59:25.125Z] [WARN ] Ax attribution failed, using heuristic fallback { module: 'AxProvider', provider: 'openai', error: 'Ax API error' }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as attributeSpeaker] (lib/ai/ax-provider.ts:174:16)
      at Object.attributeSpeaker (tests/unit/ax-integration.test.ts:231:40)

PASS tests/unit/navigation-outline.test.tsx
PASS tests/integration/wright-samples.test.ts
  ● Console

    console.log
      Found 4 dialogue elements

      at Object.log (tests/integration/wright-samples.test.ts:65:15)

    console.log
      Found teiHeader in document

      at Object.log (tests/integration/wright-samples.test.ts:93:17)

PASS tests/unit/wasm-wrapper.test.ts
  ● Console

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:43:22)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:43:22)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:43:22)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:53:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:53:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:53:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:54:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:54:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:54:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:63:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:63:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:63:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:81:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:81:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:81:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:93:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:93:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:93:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:108:26)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:108:26)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:108:26)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:123:26)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:123:26)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:123:26)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:131:26)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:131:26)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:131:26)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:141:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:141:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:141:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:166:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:166:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:166:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:186:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:186:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:186:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at getPatterns (lib/pattern/wasm-loader.ts:351:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:212:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at getPatterns (lib/pattern/wasm-loader.ts:351:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:212:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at getPatterns (lib/pattern/wasm-loader.ts:351:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:212:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at getPatterns (lib/pattern/wasm-loader.ts:351:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:222:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at getPatterns (lib/pattern/wasm-loader.ts:351:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:222:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at getPatterns (lib/pattern/wasm-loader.ts:351:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:222:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:232:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:232:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:232:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:260:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:260:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:260:23)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:271:22)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:271:22)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:271:22)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:298:24)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:298:24)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:298:24)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:299:24)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:299:24)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at storePattern (lib/pattern/wasm-loader.ts:316:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:299:24)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:307:24)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:307:24)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:307:24)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:317:26)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:317:26)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at calculateConfidence (lib/pattern/wasm-loader.ts:265:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:317:26)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:347:23)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:347:23)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at updateFromFeedback (lib/pattern/wasm-loader.ts:224:18)
      at Object.<anonymous> (tests/unit/wasm-wrapper.test.ts:347:23)

PASS tests/unit/corpus-browser.test.tsx
  ● Console

    console.error
      An update to CorpusBrowser inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      48 |         .slice(0, 20); // Limit to 20 for now
      49 |
    > 50 |       setNovels(novels);
         |       ^
      51 |     } catch (err) {
      52 |       console.error('Failed to fetch corpus:', err);
      53 |       setError('Failed to load corpus. Please try again later.');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setNovels (components/samples/CorpusBrowser.tsx:50:7)

    console.error
      An update to CorpusBrowser inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      53 |       setError('Failed to load corpus. Please try again later.');
      54 |     } finally {
    > 55 |       setLoading(false);
         |       ^
      56 |     }
      57 |   };
      58 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/samples/CorpusBrowser.tsx:55:7)

    console.error
      Failed to fetch corpus: Error: Network error
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/corpus-browser.test.tsx:72:51)
          at Promise.finally.completed (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/bor/Projects/tei-xml/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/home/bor/Projects/tei-xml/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/home/bor/Projects/tei-xml/node_modules/jest-runner/build/testWorker.js:497:12)

      50 |       setNovels(novels);
      51 |     } catch (err) {
    > 52 |       console.error('Failed to fetch corpus:', err);
         |               ^
      53 |       setError('Failed to load corpus. Please try again later.');
      54 |     } finally {
      55 |       setLoading(false);

      at error (components/samples/CorpusBrowser.tsx:52:15)

PASS tests/unit/ai-openai.test.ts
PASS tests/unit/ai-mode-switcher.test.tsx
PASS tests/unit/sample-gallery.test.tsx
  ● Console

    console.error
      Received `true` for a non-boolean attribute `shrink-0`.
      
      If you want to write it to the DOM, pass a string instead: shrink-0="true" or shrink-0={value.toString()}.

       5 | describe('SampleGallery', () => {
       6 |   it('should display welcome message', () => {
    >  7 |     render(<SampleGallery onSelect={() => {}} />);
         |           ^
       8 |
       9 |     expect(screen.getByText('Welcome to TEI Dialogue Editor')).toBeInTheDocument();
      10 |     expect(screen.getByText(/Explore dialogue annotation/)).toBeInTheDocument();

      at validateProperty (node_modules/react-dom/cjs/react-dom-client.development.js:3070:27)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom-client.development.js:3146:9)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom-client.development.js:19868:9)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom-client.development.js:20491:7)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:12662:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17777:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17658:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16504:11)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/sample-gallery.test.tsx:7:11)

PASS tests/unit/wasm-loader.test.ts
  ● Console

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:23:20)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:23:20)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:23:20)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:34:21)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:34:21)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:166:18)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:34:21)

    console.error
      Failed to load learned patterns: TypeError: Cannot read properties of undefined (reading 'toArray')
          at PatternDB.toArray [as getAllLearnedPatterns] (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:167:39)
          at getAllLearnedPatterns (/home/bor/Projects/tei-xml/lib/pattern/wasm-loader.ts:67:34)
          at loadLearnedPatterns (/home/bor/Projects/tei-xml/lib/pattern/wasm-loader.ts:169:33)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/wasm-loader.test.ts:34:21)

      139 |     return patternsMap;
      140 |   } catch (error) {
    > 141 |     console.error('Failed to load learned patterns:', error);
          |             ^
      142 |     return new Map();
      143 |   }
      144 | }

      at error (lib/pattern/wasm-loader.ts:141:13)
      at detectSpeaker (lib/pattern/wasm-loader.ts:169:27)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:34:21)

    console.warn
      WASM pattern engine not available. Using JavaScript fallback.

      43 |     return patternEngine;
      44 |   } catch (error) {
    > 45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
         |             ^
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |

      at warn (lib/pattern/wasm-loader.ts:45:13)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:42:20)

    console.warn
      To build WASM, see WASM_BUILD_INSTRUCTIONS.md

      44 |   } catch (error) {
      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
    > 46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
         |             ^
      47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
      48 |
      49 |     // Return a JavaScript implementation for development

      at warn (lib/pattern/wasm-loader.ts:46:13)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:42:20)

    console.warn
      Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm

      45 |     console.warn('WASM pattern engine not available. Using JavaScript fallback.');
      46 |     console.warn('To build WASM, see WASM_BUILD_INSTRUCTIONS.md');
    > 47 |     console.warn('Quick start: cd pattern-engine && wasm-pack build --target web --out-dir ../public/wasm');
         |             ^
      48 |
      49 |     // Return a JavaScript implementation for development
      50 |     return getJavaScriptFallback();

      at warn (lib/pattern/wasm-loader.ts:47:13)
      at Object.<anonymous> (tests/unit/wasm-loader.test.ts:42:20)

PASS tests/unit/recent-documents.test.ts
  ● Console

    console.error
      Failed to parse recent documents: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
          at JSON.parse (<anonymous>)
          at parse (/home/bor/Projects/tei-xml/lib/storage/recentDocuments.ts:20:25)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/recent-documents.test.ts:95:40)
          at Promise.finally.completed (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:103:5)
          at _runTest (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/home/bor/Projects/tei-xml/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/home/bor/Projects/tei-xml/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/home/bor/Projects/tei-xml/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/home/bor/Projects/tei-xml/node_modules/jest-runner/build/testWorker.js:497:12)

      31 |       });
      32 |   } catch (error) {
    > 33 |     console.error('Failed to parse recent documents:', error);
         |             ^
      34 |     return [];
      35 |   }
      36 | }

      at error (lib/storage/recentDocuments.ts:33:13)
      at Object.<anonymous> (tests/unit/recent-documents.test.ts:95:40)

PASS tests/unit/command-palette.test.tsx
  ● Console

    console.error
      `DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.
      
      If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.
      
      For more information, see https://radix-ui.com/primitives/docs/components/dialog

       5 | describe('CommandPalette', () => {
       6 |   test('should render command palette with all command groups', () => {
    >  7 |     render(
         |           ^
       8 |       <DocumentProvider>
       9 |         <CommandPalette
      10 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:520:30
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:7:11)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

       5 | describe('CommandPalette', () => {
       6 |   test('should render command palette with all command groups', () => {
    >  7 |     render(
         |           ^
       8 |       <DocumentProvider>
       9 |         <CommandPalette
      10 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:7:11)

    console.error
      `DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.
      
      If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.
      
      For more information, see https://radix-ui.com/primitives/docs/components/dialog

      40 |
      41 |   test('should show keyboard shortcuts for commands', () => {
    > 42 |     render(
         |           ^
      43 |       <DocumentProvider>
      44 |         <CommandPalette
      45 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:520:30
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:42:11)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      40 |
      41 |   test('should show keyboard shortcuts for commands', () => {
    > 42 |     render(
         |           ^
      43 |       <DocumentProvider>
      44 |         <CommandPalette
      45 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:42:11)

    console.error
      `DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.
      
      If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.
      
      For more information, see https://radix-ui.com/primitives/docs/components/dialog

      59 |
      60 |   test('should show status indicators for active features', () => {
    > 61 |     render(
         |           ^
      62 |       <DocumentProvider>
      63 |         <CommandPalette
      64 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:520:30
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:61:11)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      59 |
      60 |   test('should show status indicators for active features', () => {
    > 61 |     render(
         |           ^
      62 |       <DocumentProvider>
      63 |         <CommandPalette
      64 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:61:11)

    console.error
      `DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.
      
      If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.
      
      For more information, see https://radix-ui.com/primitives/docs/components/dialog

      82 |
      83 |   test('should disable commands when no document is loaded', () => {
    > 84 |     render(
         |           ^
      85 |       <DocumentProvider>
      86 |         <CommandPalette
      87 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:520:30
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:84:11)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      82 |
      83 |   test('should disable commands when no document is loaded', () => {
    > 84 |     render(
         |           ^
      85 |       <DocumentProvider>
      86 |         <CommandPalette
      87 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:84:11)

    console.error
      `DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.
      
      If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.
      
      For more information, see https://radix-ui.com/primitives/docs/components/dialog

      101 |
      102 |   test('should show sample metadata', () => {
    > 103 |     render(
          |           ^
      104 |       <DocumentProvider>
      105 |         <CommandPalette
      106 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:520:30
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:103:11)

    console.warn
      Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

      101 |
      102 |   test('should show sample metadata', () => {
    > 103 |     render(
          |           ^
      104 |       <DocumentProvider>
      105 |         <CommandPalette
      106 |           open={true}

      at node_modules/@radix-ui/react-dialog/src/dialog.tsx:543:36
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18334:9)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (tests/unit/command-palette.test.tsx:103:11)

PASS tests/unit/nlp-provider.test.ts
PASS tests/unit/ax-dialogue-detection.test.ts
  ● Console

    console.warn
      [2026-02-01T11:59:25.566Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:25:35)

    console.warn
      [2026-02-01T11:59:25.597Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:35:35)

    console.warn
      [2026-02-01T11:59:25.604Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:43:35)

    console.warn
      [2026-02-01T11:59:25.607Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:51:35)

    console.warn
      [2026-02-01T11:59:25.611Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:58:35)

    console.warn
      [2026-02-01T11:59:25.612Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:66:35)

    console.warn
      [2026-02-01T11:59:25.629Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:73:35)

    console.warn
      [2026-02-01T11:59:25.631Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:83:35)

    console.warn
      [2026-02-01T11:59:25.635Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: "Cannot read properties of undefined (reading 'forward')"
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/unit/ax-dialogue-detection.test.ts:101:35)

PASS tests/integration/error-scenarios.test.ts
  ● Console

    console.warn
      [2026-02-01T11:59:25.600Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/error-scenarios.test.ts:113:35)

    console.warn
      [2026-02-01T11:59:25.604Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/error-scenarios.test.ts:121:35)

    console.warn
      [2026-02-01T11:59:25.636Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/error-scenarios.test.ts:130:35)

    console.warn
      [2026-02-01T11:59:25.637Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/error-scenarios.test.ts:139:35)

PASS tests/unit/pattern-learning.test.ts
PASS tests/unit/editor-layout.test.tsx
PASS tests/unit/inline-suggestions.test.tsx
  ● Console

    console.error
      [2026-02-01T11:59:25.661Z] [ERROR] Failed to record pattern: Cannot read properties of undefined (reading 'where') TypeError: Cannot read properties of undefined (reading 'where')
          at PatternDB.where [as storeLearnedPattern] (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:134:8)
          at PatternDB.storeLearnedPattern (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:127:20)
          at storeLearnedPattern (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:53:16)
          at handleAccept (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:155:30)
          at executeDispatch (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
          at runWithFiberInDEV (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at processDispatchQueue (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
          at /home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
          at batchedUpdates$1 (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
          at dispatchEventForPluginEventSystem (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
          at dispatchEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
          at dispatchDiscreteEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
          at HTMLDivElement.callTheUserObjectsOperation (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLButtonElementImpl._dispatch (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLButtonElementImpl.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLButtonElement.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:107:16
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:47:24
          at process.env.NODE_ENV.exports.act (/home/bor/Projects/tei-xml/node_modules/react/cjs/react.development.js:814:22)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at Object.eventWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:106:28)
          at Object.wrapEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
          at Object.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
          at Object.dispatchUIEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
          at Mouse.up (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
          at PointerHost.release (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
          at pointerAction (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
          at Object.pointer (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
          at Object.asyncWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:87:22)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/inline-suggestions.test.tsx:137:7)

      170 |
      171 |       if (error instanceof Error) {
    > 172 |         console.error(formatted, error.message, error.stack);
          |                 ^
      173 |       } else if (error) {
      174 |         const mergedData = { ...this.context, ...error };
      175 |         console.error(formatted, mergedData);

      at Logger.error (lib/utils/logger.ts:172:17)
      at error (components/ai/InlineSuggestions.tsx:66:14)

    console.error
      [2026-02-01T11:59:25.706Z] [ERROR] Failed to record rejection: Cannot read properties of undefined (reading 'add') TypeError: Cannot read properties of undefined (reading 'add')
          at PatternDB.add [as logCorrection] (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:104:28)
          at logCorrection (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:75:16)
          at handleReject (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:166:30)
          at executeDispatch (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
          at runWithFiberInDEV (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at processDispatchQueue (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
          at /home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
          at batchedUpdates$1 (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
          at dispatchEventForPluginEventSystem (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
          at dispatchEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
          at dispatchDiscreteEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
          at HTMLDivElement.callTheUserObjectsOperation (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLButtonElementImpl._dispatch (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLButtonElementImpl.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLButtonElement.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:107:16
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:47:24
          at process.env.NODE_ENV.exports.act (/home/bor/Projects/tei-xml/node_modules/react/cjs/react.development.js:814:22)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at Object.eventWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:106:28)
          at Object.wrapEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
          at Object.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
          at Object.dispatchUIEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
          at Mouse.up (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
          at PointerHost.release (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
          at pointerAction (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
          at Object.pointer (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
          at Object.asyncWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:87:22)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/inline-suggestions.test.tsx:156:7)

      170 |
      171 |       if (error instanceof Error) {
    > 172 |         console.error(formatted, error.message, error.stack);
          |                 ^
      173 |       } else if (error) {
      174 |         const mergedData = { ...this.context, ...error };
      175 |         console.error(formatted, mergedData);

      at Logger.error (lib/utils/logger.ts:172:17)
      at error (components/ai/InlineSuggestions.tsx:91:14)

    console.error
      [2026-02-01T11:59:25.723Z] [ERROR] Failed to record pattern: Cannot read properties of undefined (reading 'where') TypeError: Cannot read properties of undefined (reading 'where')
          at PatternDB.where [as storeLearnedPattern] (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:134:8)
          at PatternDB.storeLearnedPattern (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:127:20)
          at storeLearnedPattern (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:53:16)
          at handleAccept (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:155:30)
          at executeDispatch (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
          at runWithFiberInDEV (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at processDispatchQueue (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
          at /home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
          at batchedUpdates$1 (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
          at dispatchEventForPluginEventSystem (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
          at dispatchEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
          at dispatchDiscreteEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
          at HTMLDivElement.callTheUserObjectsOperation (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLButtonElementImpl._dispatch (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLButtonElementImpl.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLButtonElement.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:107:16
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:47:24
          at process.env.NODE_ENV.exports.act (/home/bor/Projects/tei-xml/node_modules/react/cjs/react.development.js:814:22)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at Object.eventWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:106:28)
          at Object.wrapEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
          at Object.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
          at Object.dispatchUIEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
          at Mouse.up (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
          at PointerHost.release (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
          at pointerAction (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
          at Object.pointer (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
          at Object.asyncWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:87:22)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/inline-suggestions.test.tsx:179:7)

      170 |
      171 |       if (error instanceof Error) {
    > 172 |         console.error(formatted, error.message, error.stack);
          |                 ^
      173 |       } else if (error) {
      174 |         const mergedData = { ...this.context, ...error };
      175 |         console.error(formatted, mergedData);

      at Logger.error (lib/utils/logger.ts:172:17)
      at error (components/ai/InlineSuggestions.tsx:66:14)

    console.error
      [2026-02-01T11:59:25.734Z] [ERROR] Failed to record rejection: Cannot read properties of undefined (reading 'add') TypeError: Cannot read properties of undefined (reading 'add')
          at PatternDB.add [as logCorrection] (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:104:28)
          at logCorrection (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:75:16)
          at handleReject (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:166:30)
          at executeDispatch (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
          at runWithFiberInDEV (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at processDispatchQueue (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
          at /home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
          at batchedUpdates$1 (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
          at dispatchEventForPluginEventSystem (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
          at dispatchEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
          at dispatchDiscreteEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
          at HTMLDivElement.callTheUserObjectsOperation (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLButtonElementImpl._dispatch (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLButtonElementImpl.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLButtonElement.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:107:16
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:47:24
          at process.env.NODE_ENV.exports.act (/home/bor/Projects/tei-xml/node_modules/react/cjs/react.development.js:814:22)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at Object.eventWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:106:28)
          at Object.wrapEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
          at Object.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
          at Object.dispatchUIEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
          at Mouse.up (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
          at PointerHost.release (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
          at pointerAction (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
          at Object.pointer (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
          at Object.asyncWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:87:22)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/inline-suggestions.test.tsx:183:7)

      170 |
      171 |       if (error instanceof Error) {
    > 172 |         console.error(formatted, error.message, error.stack);
          |                 ^
      173 |       } else if (error) {
      174 |         const mergedData = { ...this.context, ...error };
      175 |         console.error(formatted, mergedData);

      at Logger.error (lib/utils/logger.ts:172:17)
      at error (components/ai/InlineSuggestions.tsx:91:14)

    console.error
      [2026-02-01T11:59:25.744Z] [ERROR] Failed to record pattern: Cannot read properties of undefined (reading 'where') TypeError: Cannot read properties of undefined (reading 'where')
          at PatternDB.where [as storeLearnedPattern] (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:134:8)
          at PatternDB.storeLearnedPattern (/home/bor/Projects/tei-xml/lib/db/PatternDB.ts:127:20)
          at storeLearnedPattern (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:53:16)
          at handleAccept (/home/bor/Projects/tei-xml/components/ai/InlineSuggestions.tsx:155:30)
          at executeDispatch (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
          at runWithFiberInDEV (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at processDispatchQueue (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
          at /home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
          at batchedUpdates$1 (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
          at dispatchEventForPluginEventSystem (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
          at dispatchEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
          at dispatchDiscreteEvent (/home/bor/Projects/tei-xml/node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
          at HTMLDivElement.callTheUserObjectsOperation (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLButtonElementImpl._dispatch (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLButtonElementImpl.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLButtonElement.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:107:16
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:47:24
          at process.env.NODE_ENV.exports.act (/home/bor/Projects/tei-xml/node_modules/react/cjs/react.development.js:814:22)
          at /home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at Object.eventWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:106:28)
          at Object.wrapEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
          at Object.dispatchEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
          at Object.dispatchUIEvent (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
          at Mouse.up (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
          at PointerHost.release (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
          at pointerAction (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
          at Object.pointer (/home/bor/Projects/tei-xml/node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
          at Object.asyncWrapper (/home/bor/Projects/tei-xml/node_modules/@testing-library/react/dist/pure.js:87:22)
          at Object.<anonymous> (/home/bor/Projects/tei-xml/tests/unit/inline-suggestions.test.tsx:187:7)

      170 |
      171 |       if (error instanceof Error) {
    > 172 |         console.error(formatted, error.message, error.stack);
          |                 ^
      173 |       } else if (error) {
      174 |         const mergedData = { ...this.context, ...error };
      175 |         console.error(formatted, mergedData);

      at Logger.error (lib/utils/logger.ts:172:17)
      at error (components/ai/InlineSuggestions.tsx:66:14)

PASS tests/unit/validation-dialog.test.tsx
PASS tests/integration/pattern-engine-accuracy.test.ts
  ● Console

    console.warn
      [2026-02-01T11:59:25.512Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:68:41)

    console.log
      
      yellow-wallpaper.xml:

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:83:17)

    console.log
      Precision: 5.6%
      Recall: 7.1%
      F1 Score: 6.3%
      True Positives: 1
      False Positives: 17
      False Negatives: 13

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:84:17)

    console.warn
      [2026-02-01T11:59:25.788Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:68:41)

    console.log
      
      gift-of-the-magi.xml:

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:83:17)

    console.log
      Precision: 0.0%
      Recall: 0.0%
      F1 Score: 0.0%
      True Positives: 0
      False Positives: 29
      False Negatives: 27

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:84:17)

    console.warn
      [2026-02-01T11:59:26.071Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:68:41)

    console.log
      
      tell-tale-heart.xml:

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:83:17)

    console.log
      Precision: 0.0%
      Recall: 0.0%
      F1 Score: 0.0%
      True Positives: 0
      False Positives: 33
      False Negatives: 6

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:84:17)

    console.warn
      [2026-02-01T11:59:26.224Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:68:41)

    console.log
      
      owl-creek-bridge.xml:

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:83:17)

    console.log
      Precision: 0.0%
      Recall: 0.0%
      F1 Score: 0.0%
      True Positives: 0
      False Positives: 28
      False Negatives: 27

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:84:17)

    console.warn
      [2026-02-01T11:59:26.283Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:68:41)

    console.log
      
      pride-prejudice-ch1.xml:

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:83:17)

    console.log
      Precision: 25.0%
      Recall: 25.0%
      F1 Score: 25.0%
      True Positives: 8
      False Positives: 24
      False Negatives: 24

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:84:17)

    console.warn
      [2026-02-01T11:59:26.356Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:106:41)

    console.warn
      [2026-02-01T11:59:26.481Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:106:41)

    console.warn
      [2026-02-01T11:59:26.676Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:106:41)

    console.warn
      [2026-02-01T11:59:26.806Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:106:41)

    console.warn
      [2026-02-01T11:59:26.852Z] [WARN ] Ax detection failed, using NLP fallback {
        module: 'AxProvider',
        provider: 'openai',
        error: 'Invalid Signature: Invalid type "array"'
      }

      153 |
      154 |       if (Object.keys(mergedData).length > 0) {
    > 155 |         console.warn(formatted, mergedData);
          |                 ^
      156 |       } else {
      157 |         console.warn(formatted);
      158 |       }

      at Logger.warn (lib/utils/logger.ts:155:17)
      at AxProvider.warn [as detectDialogue] (lib/ai/ax-provider.ts:86:16)
      at Object.detectDialogue (tests/integration/pattern-engine-accuracy.test.ts:106:41)

    console.log
      
      === Aggregate Dataset Metrics ===

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:124:15)

    console.log
      Precision: 9.3%
      Recall: 12.3%
      F1 Score: 10.6%
      True Positives: 13
      False Positives: 127
      False Negatives: 93

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:125:15)

    console.log
      
      === Speaker Attribution Accuracy ===

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:143:15)

    console.log
      Overall Speaker Accuracy: 100.0%
      Correct: 1 / 1
      
      Per-Speaker Accuracy:
        #speaker1: 100.0% (1/1)

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:144:15)

    console.log
      
      === Optimal Confidence Threshold ===

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:164:15)

    console.log
      Threshold: 0.6

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:165:15)

    console.log
      F1 Score: 0.750

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:166:15)

    console.log
      Precision: 0.750

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:167:15)

    console.log
      Recall: 0.750

      at Object.log (tests/integration/pattern-engine-accuracy.test.ts:168:15)


Test Suites: 43 passed, 43 total
Tests:       473 passed, 473 total
Snapshots:   0 total
Time:        3.696 s
Ran all test suites.
